<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RoadBuddy</title>
    <link rel="stylesheet" href="../static/room.css">

    <!-- Leaflet CSS and js file -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
    integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
    crossorigin=""/>
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
    integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
    crossorigin=""></script>

    <!-- Socket.io js file -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.0.1/socket.io.js" integrity="sha512-q/dWJ3kcmjBLU4Qc47E4A9kTB4m3wuTY7vkFJDTZKjTs8jhyGQnaUrxa0Ytd0ssMZhbNua9hE+E7Qv1j+DyZwA==" crossorigin="anonymous"></script>

</head>
<body>
    <div class="friend-prompt">
        <div class="from"></div>
        <div class="content"></div>
        <button class="no">No</button>
        <button class="yes">Yes</button>
    </div>

    <div class="friend-response">
        <div class="content"></div>
        <button>OK</button>
    </div>

    <div class="friend-request">
        <div class="content"></div>
        <button>OK</button>
    </div>

    <div class="team-invite-prompt">
        <div class="from"></div>
        <div class="content"></div>
        <button class="no">No</button>
        <button class="yes">Yes</button>
    </div>

    <div class="team-invite-response">
        <div class="content"></div>
        <button>OK</button>
    </div>

    <div class="team-create-response">
        <div class="content"></div>
        <button>OK</button>
    </div>

    <div class="team-join-response">
        <div class="content"></div>
        <button>OK</button>
    </div>

    <div class="team-join-request">
        <div class="from"></div>
        <div class="content"></div>
        <button class="no">No</button>
        <button class="yes">Yes</button>
    </div>

    <div class="background">
        <div class="setting">
            <div class="setting-on-main"></div>
            <div class="setting-off-main"></div>
            <div class="setting-on-tracking"></div>
            <div class="setting-off-tracking"></div>
            <!-- <div class="config">個人資料</div> -->
            <div class="logout">登出</div>
            <div class="invite">新增隊員</div>
            <div class="leave">離開隊伍</div>
        </div>
        <div id="map"></div>
        <div class="main-pannel">
            <div class="pull-up-friend"></div>
            <div class="drop-down-friend"></div>
            <div class="pull-up-team"></div>
            <div class="drop-down-team"></div>
            <nav>
                <div class="nav-menu">
                    <div class="nav-menu-title">好友列表</div>
                    <div class="nav-menu-list">
                        <div class="nav-menu-friend">好友列表</div>
                        <div class="nav-menu-team">隊伍列表</div>
                    </div>
                </div>
                
                <div class="nav-toggle-on"></div>
                <div class="nav-toggle-off"></div>
                <div class="nav-add-friend"></div>
                <div class="nav-add-team"></div>
            </nav>
            <div class="user-info">
                <div class="icon"></div>
                <div class="description">Here we go!</div>
            </div>
            <div class="friend-color-intro">
                <div class="online">上線</div>
                <div class="offline">離線</div>
            </div>
            <div class="friends-outer">
                <div class="friends-list">
                    <!-- <div class="item">test~~~~</div>
                    <div class="item">test</div> -->
                </div>
            </div>
            <div class="team-color-intro">
                <div class="online">旅程中</div>
                <div class="offline">未啟程</div>
            </div>
            <div class="teams-outer">
                <div class="teams-outer-create">
                    <div class="teams-outer-title">你建立的</div>
                        <div class="teams-outer-overflow">
                            <div class="create-list">
                                <!-- <div class="item">456~~~~~~~~~~</div>
                                <div class="item">456</div> -->
                            </div>
                        </div>
                </div>
                <div class="teams-outer-join">
                    <div class="teams-outer-title">你加入的</div>
                    <div class="teams-outer-overflow">
                        <div class="join-list">
                            <!-- <div class="item">456~~~~~~~~~~</div>
                            <div class="item">456</div> -->
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="friends-pannel">
            <div class="close"></div>
            <div class="pannel-title">新增好友</div>
            <div class="search">
                <div class="search-icon"></div>
                <input type="text" name="search-friend" placeholder="搜尋姓名">
            </div>
            <div class="search-outer">
                <div class="search-list">
                    <!-- <div class="item">
                        <input type="checkbox" name="username">
                        <label for="useranme">Mark</label>
                    </div> -->
                </div>
            </div>
            <button type="button">加入好友</button>
        </div>

        <div class="teams-pannel">
            <div class="close"></div>
            <div class="close-invitation"></div>
            <div class="pannel-title">創建隊伍</div>
            <div class="search">
                <input type="text" name="create-team" placeholder="隊伍名稱">
            </div>
            <div class="pannel-title">新增隊員</div>
            <div class="friends-outer">
                <div class="friends-list">
                    <!-- <div class="item">
                        <input type="checkbox" name="username">
                        <label for="useranme">Mark</label>
                    </div> -->
                </div>
            </div>
            <button type="button" class="create-team-btn">創建</button>
            <button type="button" class="start-trip-btn">啟程</button>
            <button type="button" class="invite-trip-btn">邀請</button>
            <button type="button" class="join-trip-btn">申請加入</button>
        </div>

        <div class="tracking-pannel">
            <div class="pull-up-tracking"></div>
            <div class="drop-down-tracking"></div>
            <div class="pannel-title">隊員</div>
            <div class="partners-outer">
                <div class="partners-list">
                    <!-- <div class="item">
                        <div class="icon"></div>
                        <div class="username">test~~~~</div>
                    </div> -->
                </div>
            </div>
        </div>

    </div>

    <div class="alert">
        <div>msg</div>
        <input type="text" name="msg">
        <button class="alert">send</button>
        <button class="leave">leave</button>
    </div>
    <script>
        // build global variables
        let//
        marker,
        initialCoord,
        sidArray = [],
        sidReference,
        markerArray = [],
        ownColor = `rgb(${Math.floor(Math.random()*255)}, ${Math.floor(Math.random()*255)}, ${Math.floor(Math.random()*255)})`,
        partnersColor = {},
        map,
        team_sender_info_cache,
        friend_sender_info_cache,
        onlineFriendArray = [],
        onlineTeamArray = [],
        joinedTeamArray = [];

        //initialize socket.io
        let socket = io();
    </script>
    <script type="module" src="../static/room.js"></script>
    <script type="module" src="../static/event_handler/connect.js"></script>
    <script type="module" src="../static/event_handler/friend.js"></script>
    <script type="module" src="../static/event_handler/team.js"></script>
    <script type="module" src="../static/event_handler/tracking.js"></script>
</body>
</html>